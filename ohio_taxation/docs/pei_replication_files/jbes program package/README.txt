********************************************************************
Programs for:

"Local Polynomial Order in Regression Discontinuity Designs"
Zhuan Pei, David S. Lee, David Card, and Andrea Weber
********************************************************************

The three figures are generated by Mathematica programs in the 
"Mathematica programs" subfolder

Figure 1:Asymptotic Mean Squared Error as a Function of Sample Size comes from 
"Figure 1 AMSE jbes.nb"

Figure A.1: Conditional Expectation Functions in RDD DGP's
  Panel A comes from "RD DGP Lee.nb"
  Panel B comes from "RD DGP LM.nb"

Figure A.2: Conditional Expectation Functions in RKD DGP's
  Panels A(a) and A(b) come from "RD DGP Kink3.nb"
  Panels B(a) and B(b) come from "RD DGP Kink4.nb"

********************************************************************

Tables 1-2 and Tables B.1-B.4: Simulations Statistics for the Conventional and Robust Estimator of Various Polynomial Orders

Step 1: Place all the .ado and .mo files from the "ado" subfolder in the corresponding ado folders where Stata can find them, e.g., subfolders of C:\ado\plus

Step 2: Run the simulations do files in the "Actual_n", "Large_n", and "Small_n" subfolders to create stataistics from simulations. After running all of the simulation programs, compile final data sets containing simulation statistcs by running "Stack\sim_data_stack.do"  

Step 3: Run the do files in the "Report" folder to obtain the numbers in Tables 

  ** Lee DGP, conventional estimator, optimal bandwidth **
  Numbers in Table 1 and Panel A of Table B.3  for optimal bandwidth are summarized by "report_final_RD_sim_DL_cl_optbw.do"

  ** Lee DGP, conventional estimator, CCT bandwidth (with and without regularization term) **
  Numbers in Table 1 and Panel A of Table B.3  for CCT bandwidth are summarized by "report_final_RD_sim_DL_cl_estbw.do"

  ** Lee DGP, robust estimator, optimal bandwidth **
  Numbers in Table B.1 and Panel A of Table B.4  for optimal bandwidth are summarized by "report_final_RD_sim_DL_rb_optbw.do"

  ** Lee DGP, robust estimator, CCT bandwidth (with and without regularization term) **  
  Numbers in Table B.1 and Panel A of Table B.4  for CCT bandwidth are summarized by "report_final_RD_sim_DL_rb_estbw.do"

  ** Ludwig-Miller DGP, conventional estimator, optimal bandwidth **
  Numbers in Panel A of Table 2 and Panel B of Table B.3  for optimal bandwidth are summarized by "report_final_RD_sim_LM_cl_optbw.do"
  Numbers in Panel B of Table 2 for optimal bandwidth are summarized by "report_final_RD_sim_LM_cl_optbw_largen.do"

  ** Ludwig-Miller DGP, conventional estimator, CCT bandwidth (with and without regularization term) **
  Numbers in Panel A of Table 2 and Panel B of Table B.3 for CCT bandwidth are summarized by "report_final_RD_sim_LM_cl_estbw.do"
  Numbers in Panel B of Table 2 for CCT bandwidth are summarized by "report_final_RD_sim_LM_cl_estbw_largen.do"

  ** Ludwig-Miller DGP, robust estimator, optimal bandwidth **
  Numbers in Panel A of Table B.2 and Panel B of Table B.4  for optimal bandwidth are summarized by "report_final_RD_sim_LM_rb_optbw.do"
  Numbers in Panel B of Table B.2 for optimal bandwidth are summarized by "report_final_RD_sim_LM_rb_optbw_largen.do"

  ** Ludwig-Miller DGP, robust estimator, CCT bandwidth (with and without regularization term) **
  Numbers in Panel A of Table B.2 and Panel B of Table B.4  for CCT bandwidth are summarized by "report_final_RD_sim_LM_rb_estbw.do"
  Numbers in Panel B of Table B.2 for CCT bandwidth are summarized by "report_final_RD_sim_LM_rb_estbw_largen.do"
